<!DOCTYPE html>
<html>
<head>
  <meta charset='UTF-8'><meta name='viewport' content='width=device-width,initial-scale=1.0'>
  <title>Message in the Ocean</title>
  <style>
    body{background:#0b1e2d;color:#fff;font-family:Arial;margin:0;padding:20px;text-align:center;}
    input{padding:10px;width:80%;margin-top:10px;border-radius:5px;border:none;}
    button{padding:10px 20px;margin:10px;border:none;border-radius:5px;background:#0288d1;color:#fff;cursor:pointer;}
    button:hover{background:#0277bd;}
    #online{position:fixed;top:10px;right:10px;color:#ccc;}
    #message{margin-top:20px;font-size:1.2em;}
  </style>
</head>
<body>
<h1>?? Message in the Ocean</h1>
<div id='online'>????? Users online: 300</div>
<input id='msgIn' placeholder='Enter up to 5 words...'>
<br><button id='throwBtn'>Throw Bottle ??</button><button id='findBtn'>Look for Bottles ???</button>
<div id='message'></div>
<script src='/socket.io/socket.io.js'></script><script>
const socket=io();const onlineDiv=document.getElementById('online');
const msgIn=document.getElementById('msgIn'),throwBtn=document.getElementById('throwBtn');
const findBtn=document.getElementById('findBtn'),messageDiv=document.getElementById('message');

socket.on('users-online',u=>onlineDiv.textContent='????? Users online: '+u);
socket.on('throw-error',txt=>messageDiv.textContent=txt);
socket.on('throw-success',txt=>messageDiv.textContent=txt);
socket.on('found-bottle',txt=>messageDiv.textContent='?? '+txt);

throwBtn.onclick=()=>{messageDiv.textContent='';socket.emit('throw-bottle',msgIn.value.trim());};
findBtn.onclick=()=>{messageDiv.textContent='';socket.emit('find-bottle');};
setInterval(()=>{socket.emit('users-online');},180000);
</script>
</body>
</html>
